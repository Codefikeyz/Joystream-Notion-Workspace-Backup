# Term 10

### Term 10 Plan (03.05.23 - 18.05.23)

### 1. Current WG composition:

- [@klaudiusz](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=2233)Â - Lead, worker
- [@0x2bc](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=2098) - worker
- [@adovrn](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=2502) - worker
- [@sieemma](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=458) - worker
- [@goksel](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=3655) - worker
- [@Craci_BwareLabs](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=3886) - worker
- [@lkskrn](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=644) - worker
- [@Deathix](notion://www.notion.so/joystream/Distributor-node-space-optimization-9995a91e58384e4fae525f12c65b502d?p=b4462f943b474a14b02054d58f6506e5&showMoveTo=true#mention?member-id=4236) - worker

### 2. Planned WG budget:

**Planned spending:** up to 93,510 JOY

**Comment:** Details can be found in [the funding proposal](https://pioneerapp.xyz/#/proposals/preview/265)

### 3. Term OKRs:

| **No.** | **Objectives** | **Key Results** | **Initiatives** |
| --- | --- | --- | --- |
| 1 | Establish clear lines and rules of communication with all the workers | 1) Page in Notion created with all the workers and their preferred ways of communication. | 1) Contact all current workers and collect 
their info. 2) Create a page in Notion with all the info. |
| 2 | Analyze current distribution usage | 1) We will know whether current 9 distribution nodes is too much/too 
little to support our usage. 2) We will have a better idea on where the 
nodes should be located. | 1) Set up Elasticsearch to collect 
metrics from all the distributors. 2) Ask all the workers to use 
Elasticsearch so metrics are collected. |
| 3 | Clean up distribution families/buckets setup | 1) All the families<->buckets<->operators make sense and 
represent reality. | 1) Write down all the 
current location<->family associations. 2) Figure out if the list 
makes sense. 3) If not, come up with a plan on how to update it. |
| 4 | Analyze performance and availability of nodes | 1) We have real-time monitoring of all the nodes and can see if one of them stops working without running any manual tests. | 1) Write a tool that periodically pings 
all the nodes and collects metrics about their responses. 2) Set up a DB to hold all the metrics. 3) Set up Grafana or something alike to 
visualize metrics. |

---

### Term 10 Report (03.05.23 - 18.05.23)

### 1. Current WG composition:

- [@klaudiusz](https://pioneerapp.xyz/#members)Â - Lead, worker
- [@0x2bc](https://pioneerapp.xyz/#members) - worker
- [@adovrn](https://pioneerapp.xyz/#members) - worker
- [@sieemma](https://pioneerapp.xyz/#members) - worker
- [@goksel](https://pioneerapp.xyz/#members) - worker
- [@Craci_BwareLabs](https://pioneerapp.xyz/#members) - worker
- [@lkskrn](https://pioneerapp.xyz/#members) - worker
- [@Deathix](https://pioneerapp.xyz/#members) - worker

No changes in WG's composition, however one server was removed (from a worker who was running 2 servers)

### 2. WG budget spending:

**Planned spending:** up to 93,510 JOY

**Starting budget:** 16,528.75 JOY

**End budget:** 24,467.65 JOY (salary bonus was paid out in term 11, so it's not deducted from the end budget)

**Budget refill:** 93,510 JOY

**Base salary spending:** 16,528.75 JOY + 93,510 JOY - 24,467.65 JOY = 85,571.1 JOY

**Bonus salary spending:** (paid out using discretionary spending): 6,640 JOY

**Total spending:** 92,211.1 JOY

**Comment:** Second term in a row I made a fatal mistake of not including my own salary in the budget ðŸ˜…Â Thankfully there was enough in the budget to pay all the salaries.

### 3. OKRs progress:

Only while making this report Iâ€™ve noticed that DWG Term 10 plan contains the exact same OKRs and Term 9. Iâ€™m not sure how that happened, I wrote new OKRs for this term but I think I may have copied the wrong table and posted the old OKRs instead. Because of this, for this term I will just list the groupâ€™s accomplishments and will go back to proper OKRs next term.

1. Set up an Elasticsearch cluster to collect logs from all the distributor logs to gain better visibility into how the distribution system operates.
2. Created first version of dashboard to visualize data from logs: [https://joystream.koalva.io/operator-logs](https://joystream.koalva.io/operator-logs)
3. Suggested and implemented improvements to Argus (distribution node): [https://github.com/Joystream/joystream/issues?q=author%3Akdembler+created%3A>2023-05-03](https://github.com/Joystream/joystream/issues?q=author%3Akdembler+created%3A%3E2023-05-03)
4. Collected detailed server specifications from all the workers, available in DWG Notion workers DB
5. Came up with adjustments to how salaries will be paid out in the future - how to calculate bonus and penalty, DWG will also be moving to discretionary spending salaries from Term 11: [https://pioneerapp.xyz/#/forum/thread/384](https://pioneerapp.xyz/#/forum/thread/384)
6. Made some improvements to the monitoring setup used to ping operators (better reliability, changed data DB to Elasticsearch) [https://joystream.koalva.io/operator-grafana/goto/lqM_plP4z?orgId=1](https://joystream.koalva.io/operator-grafana/goto/lqM_plP4z?orgId=1)
7. Monitored node availability and worked with workers to resolve any issues

---